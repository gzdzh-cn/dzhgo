import{v as e}from"./@vue.runtime-dom-532828a1.js";import"./browser-f4ca2ed3.js";import"./vue-echarts-bffdbdc9.js";import{a as l,d as a}from"./element-plus-e665fdbc.js";import"./store-acbd10e3.js";import"./index-ecdd2562.js";import{u as o}from"./index-1fe6d5c5.js";import{B as d,U as u,A as t}from"./@element-plus.icons-vue-e9c91902.js";import{d as i,p as m,e as s,W as r,o as p,c,b as n,J as v,N as b,K as V,a as f,F as j,U as h}from"./@vue.runtime-core-6173334e.js";import{r as y,h as _,u as U}from"./@vue.reactivity-54707199.js";import"./@vue.shared-0cc4c744.js";import"./monaco-editor-c28fb00f.js";import"./axios-bb93cf32.js";import"./nprogress-27d9be10.js";import"./lodash-es-fd5b777b.js";import"./vue-router-25454f45.js";import"./@vueuse.core-cb7ad152.js";import"./@vueuse.shared-feb01f08.js";import"./pinia-77f7f468.js";import"./vue-demi-71ba0ef2.js";import"./mockjs-005b47e8.js";import"./index.umd.min-ead3793b.js";import"./vue-21f38777.js";import"./resize-detector-2312ef2b.js";import"./echarts-e550b62f.js";import"./tslib-a4e99503.js";import"./zrender-f72fb7be.js";import"./@popperjs.core-b696b006.js";import"./@ctrl.tinycolor-a951068a.js";import"./dayjs-f8876307.js";import"./async-validator-ff95bfc9.js";import"./memoize-one-63ab667a.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui.dom-92665be4.js";import"./@floating-ui.core-c1b3624a.js";const g={class:"view-my"},x={class:"box-con"},K={class:"box-list"},k={class:"box-col"},N={style:{padding:"10px 0 10px 0"}},w={class:"del"},I={class:"add"},T=i({name:"common-setting"}),z=i({...T,setup(i){const{service:T}=o(),z=y([1,2]),A=y(!1),C=y(),S=y([{contactName:"",imgUrl:""}]),L=()=>{S.value.push({contactName:"",imgUrl:""})},M=e=>{S.value[S.value.length-1].imgUrl=e.url,A.value=!1,C.value.close()},P=y(0);m((()=>S.value),(e=>{}),{immediate:!0,deep:!0});const J=y({sitename:"",notic:"",image:"",contact:"",mobile:"",gpt4:0,contactList:[]});_({active:1,inactiv:0});const B=()=>{A.value=!1,J.value.contactList=S.value,T.cms.setting.update({id:1,...J.value}).then((()=>{l.success("更新成功")}))};return s((()=>{(async()=>{J.value=await T.cms.setting.info({id:1}),S.value=J.value.contactList?JSON.parse(J.value.contactList):S.value})()})),(o,i)=>{const m=r("el-input"),s=r("el-form-item"),y=r("cl-upload"),_=r("el-form"),T=r("el-tab-pane"),F=r("el-radio"),q=r("el-radio-group"),D=r("el-button"),E=r("el-card"),G=r("el-tabs");return p(),c("div",g,[n(G,{type:"border-card"},{default:v((()=>[n(T,{label:"基本信息"},{default:v((()=>[n(_,{class:"card-form","label-width":"160px",model:J.value,disabled:A.value},{default:v((()=>[n(s,{label:"站点名称"},{default:v((()=>[n(m,{modelValue:J.value.sitename,"onUpdate:modelValue":i[0]||(i[0]=e=>J.value.sitename=e),placeholder:"请填写站点名称",clearable:""},null,8,["modelValue"])])),_:1}),n(s,{label:"明信片"},{default:v((()=>[n(y,{modelValue:J.value.image,"onUpdate:modelValue":i[1]||(i[1]=e=>J.value.image=e),text:"明信片",type:"image"},null,8,["modelValue"])])),_:1}),n(s,{label:"联系人"},{default:v((()=>[n(m,{modelValue:J.value.contact,"onUpdate:modelValue":i[2]||(i[2]=e=>J.value.contact=e),placeholder:"请填写联系人",clearable:""},null,8,["modelValue"])])),_:1}),n(s,{label:"手机号码"},{default:v((()=>[n(m,{modelValue:J.value.mobile,"onUpdate:modelValue":i[3]||(i[3]=e=>J.value.mobile=e),placeholder:"请填写手机号码",clearable:""},null,8,["modelValue"])])),_:1})])),_:1},8,["model","disabled"])])),_:1}),n(T,{label:"支付"},{default:v((()=>[n(_,{class:"card-form","label-width":"160px",model:J.value,disabled:A.value},{default:v((()=>[n(s,{label:"模式"},{default:v((()=>[n(q,{modelValue:J.value.payType,"onUpdate:modelValue":i[4]||(i[4]=e=>J.value.payType=e),class:"ml-4"},{default:v((()=>[n(F,{label:z.value[0],size:"large"},{default:v((()=>[b(" 普通商户模式 ")])),_:1},8,["label"]),n(F,{label:z.value[1],size:"large"},{default:v((()=>[b(" 服务商模式 ")])),_:1},8,["label"])])),_:1},8,["modelValue"])])),_:1}),V(f("div",null,[n(s,{label:"普通商户号"},{default:v((()=>[n(m,{modelValue:J.value.mchId,"onUpdate:modelValue":i[5]||(i[5]=e=>J.value.mchId=e),placeholder:"请填写普通商户号",clearable:""},null,8,["modelValue"])])),_:1}),n(s,{label:"普通商户appid"},{default:v((()=>[n(m,{modelValue:J.value.appid,"onUpdate:modelValue":i[6]||(i[6]=e=>J.value.appid=e),placeholder:"请填写普通商户appid",clearable:""},null,8,["modelValue"])])),_:1}),n(s,{label:"收款商户v3密钥"},{default:v((()=>[n(m,{modelValue:J.value.cAPIv3Key,"onUpdate:modelValue":i[7]||(i[7]=e=>J.value.cAPIv3Key=e),placeholder:"请填写收款商户v3密钥",clearable:""},null,8,["modelValue"])])),_:1}),n(s,{label:"序列号"},{default:v((()=>[n(m,{modelValue:J.value.cSerialNo,"onUpdate:modelValue":i[8]||(i[8]=e=>J.value.cSerialNo=e),placeholder:"请填写序列号",clearable:""},null,8,["modelValue"])])),_:1})],512),[[e,1==J.value.payType]]),V(f("div",null,[n(s,{label:"服务商商户号"},{default:v((()=>[n(m,{modelValue:J.value.spMchid,"onUpdate:modelValue":i[9]||(i[9]=e=>J.value.spMchid=e),placeholder:"请填写服务商商户号",clearable:""},null,8,["modelValue"])])),_:1}),n(s,{label:"服务商appid"},{default:v((()=>[n(m,{modelValue:J.value.spAppid,"onUpdate:modelValue":i[10]||(i[10]=e=>J.value.spAppid=e),placeholder:"请填写服务商appid",clearable:""},null,8,["modelValue"])])),_:1}),n(s,{label:"特约商户"},{default:v((()=>[n(m,{modelValue:J.value.subMchId,"onUpdate:modelValue":i[11]||(i[11]=e=>J.value.subMchId=e),placeholder:"请填写特约商户",clearable:""},null,8,["modelValue"])])),_:1}),n(s,{label:"收款商户v3密钥"},{default:v((()=>[n(m,{modelValue:J.value.aPIv3Key,"onUpdate:modelValue":i[12]||(i[12]=e=>J.value.aPIv3Key=e),placeholder:"请填写收款商户v3密钥",clearable:""},null,8,["modelValue"])])),_:1}),n(s,{label:"序列号"},{default:v((()=>[n(m,{modelValue:J.value.serialNo,"onUpdate:modelValue":i[13]||(i[13]=e=>J.value.serialNo=e),placeholder:"请填写序列号",clearable:""},null,8,["modelValue"])])),_:1})],512),[[e,2==J.value.payType]]),n(s,{label:"支付回调地址"},{default:v((()=>[n(m,{modelValue:J.value.notifyUrl,"onUpdate:modelValue":i[14]||(i[14]=e=>J.value.notifyUrl=e),placeholder:"请填写支付回调地址",clearable:""},null,8,["modelValue"])])),_:1})])),_:1},8,["model","disabled"])])),_:1}),n(T,{label:"翻译"},{default:v((()=>[n(_,{class:"card-form","label-width":"160px",model:J.value,disabled:A.value},{default:v((()=>[n(s,{label:"百度apiKey"},{default:v((()=>[n(m,{modelValue:J.value.baiduTranApiKey,"onUpdate:modelValue":i[15]||(i[15]=e=>J.value.baiduTranApiKey=e),placeholder:"请填写百度apiKey",clearable:""},null,8,["modelValue"])])),_:1}),n(s,{label:"百度secretKey"},{default:v((()=>[n(m,{modelValue:J.value.baiduTranSecretKey,"onUpdate:modelValue":i[16]||(i[16]=e=>J.value.baiduTranSecretKey=e),placeholder:"请填写百度secretKey",clearable:""},null,8,["modelValue"])])),_:1})])),_:1},8,["model","disabled"])])),_:1}),n(T,{label:"客服"},{default:v((()=>[f("div",x,[f("div",K,[(p(!0),c(j,null,h(S.value,((e,o)=>(p(),c("div",{class:"box-item",key:o},[n(E,{style:{"margin-bottom":"30px"}},{default:v((()=>[f("div",k,[n(m,{modelValue:e.contactName,"onUpdate:modelValue":l=>e.contactName=l,placeholder:"请填写客服名称",clearable:""},null,8,["modelValue","onUpdate:modelValue"]),f("div",N,[n(y,{text:"选择图片",modelValue:e.imgUrl,"onUpdate:modelValue":l=>e.imgUrl=l,onSuccess:M},{default:v((()=>[n(D,{icon:U(u),onClick:e=>(e=>{C.value=a.service({lock:!0,text:"上传中",background:"rgba(0, 0, 0, 0.7)"}),A.value=!0,P.value=e})(o)},{default:v((()=>[b("上传")])),_:2},1032,["icon","onClick"])])),_:2},1032,["modelValue","onUpdate:modelValue"])]),f("div",w,[n(D,{type:"danger",icon:U(t),onClick:e=>(e=>{1==S.value.length?l.warning("至少保留一个"):S.value.splice(e,1)})(o)},{default:v((()=>[b("删除")])),_:2},1032,["icon","onClick"])])])])),_:2},1024)])))),128))]),f("div",I,[n(D,{type:"info",icon:U(d),onClick:L},{default:v((()=>[b("增加一个")])),_:1},8,["icon"])])])])),_:1}),n(s,null,{default:v((()=>[n(D,{type:"primary",disabled:A.value,onClick:B},{default:v((()=>[b("保存修改")])),_:1},8,["disabled"])])),_:1})])),_:1})])}}});export{z as default};
